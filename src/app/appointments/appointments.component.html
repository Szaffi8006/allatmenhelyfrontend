<div class="container mt-4">
    <h2>Időpontjaid</h2>

    <!-- Üres állapot, ha nincsenek időpontok -->
    <div *ngIf="appointments.length === 0" class="alert alert-info">
      Nincsenek foglalt időpontjaid.
    </div>

    <!-- Időpontok listázása -->
    <div *ngIf="appointments.length > 0">
        <table class="table table-bordered">
        <thead>
            <tr>
            <th>ID</th>
            <th>Felhasználó</th>
            <th>Állat</th>
            <th>Időpont</th>
            <th>Funkciók</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let appointment of appointments">
            <td>{{ appointment.id }}</td>
            <td>{{ appointment.user_name }}</td>
            <td>{{ appointment.animal_name }}</td>
            <td>{{ appointment.appointment_time }}</td>
            <td>
                <button (click)="selectAppointment(appointment)" class="btn btn-warning btn-sm">
                Módosítás
                </button>
                <button (click)="deleteAppointment(appointment.id)" class="btn btn-danger btn-sm">
                Törlés
                </button>
            </td>
            </tr>
        </tbody>
        </table>
    </div>

    <div *ngIf="selectedAppointment" class="mt-3">
        <label>Dátum:</label>
        <input type="date" [(ngModel)]="selectedAppointment.date">
    
        <label>Óra:</label>
        <select [(ngModel)]="selectedAppointment.hour">
            <option *ngFor="let hour of hours" [value]="hour">{{ hour }}:00</option>
        </select>
    
        <label>Perc:</label>
        <select [(ngModel)]="selectedAppointment.minute">
            <option *ngFor="let minute of minutes" [value]="minute">{{ minute | number: '2.0' }}</option>
        </select>
    
        <button class="btn btn-primary mt-2" (click)="updateAppointment()">
            Időpont módosítása
        </button>
    </div>
</div>
